# EZ Trading 项目主文档 (V2.0 - 双币模型)

> 本文档是EZ Trading项目的总体指南，整合了所有关键文档信息。通过这个主文档，团队成员可以全面了解项目并快速定位详细信息。

## 目录

1. [项目概述](#1-项目概述)
2. [产品架构](#2-产品架构)
3. [核心组件](#3-核心组件)
4. [技术实现](#4-技术实现)
5. [双币经济模型](#5-双币经济模型)
6. [开发计划](#6-开发计划)
7. [团队协作指南](#7-团队协作指南)
8. [当前进度](#8-当前进度)
9. [详细文档索引](#9-详细文档索引)

## 1. 项目概述

### 产品定位

EZ Trading是一个面向加密货币散户的轻量级AI交易神谕终端。用户每天仅需登录一次，即可免费领取一个热点山寨币的操作建议（买入/观望/减仓），所有建议由多智能体分析后由AI总结为"Alpha神谕"。

### 产品使命

"Trade with answers, not questions."

### 目标用户

加密货币小白用户和时间有限的散户投资者，希望像"刷抖音一样轻松做交易"。

### 核心价值主张

- 简化决策过程，提供明确操作建议
- 通过AI多智能体系统提供专业级分析能力
- **创新双币经济模型**：EAT代币 + Alpha点数系统
- 极简用户体验，降低技术门槛
- **AI Agent对话系统**：高频、高价值的功能消耗场景

## 2. 产品架构

### 系统架构图

```
┌───────────────────┐    ┌───────────────────────────────┐
│                   │    │                               │
│   前端应用层      │◄───┤   API网关层                  │
│   (Vue.js)        │    │   (Node.js + Express)        │
│   双币界面        │    │   双币系统API                │
└───────────────────┘    └───────────┬───────────────────┘
                                     │
                         ┌───────────▼───────────────────┐
                         │                               │
                         │   双币经济引擎               │
                         │   EAT + Alpha点数系统        │
                         │                               │
                         └───────────┬───────────────────┘
                                     │
                  ┌──────────────────┼──────────────────┐
                  │                  │                  │
   ┌──────────────▼─────┐  ┌─────────▼────────┐ ┌──────▼─────────────┐
   │                    │  │                  │ │                     │
   │  AI Agent系统      │  │  多智能体引擎    │ │  交易执行模块       │
   │  (对话消耗核心)    │  │  (MMXM Agent)    │ │  (3Commas API)      │
   │                    │  │                  │ │                     │
   └────────────────────┘  └──────────────────┘ └─────────────────────┘
                                     │
                          ┌──────────▼───────────┐
                          │                      │
                          │  通知系统           │
                          │  (Slack/Telegram)    │
                          │                      │
                          └──────────────────────┘
```

### 技术栈

| 层级 | 技术选择 | 说明 |
|------|---------|------|
| 前端应用层 | Vue.js, Vite | 轻量级响应式前端框架 |
| API网关层 | Node.js + Express | RESTful API服务 |
| 双币经济引擎 | MongoDB + TypeScript | EAT + Alpha点数系统 |
| AI Agent系统 | Claude/ChatGPT API | 高频对话消耗核心 |
| 多智能体引擎 | n8n Workflows | 自动化工作流编排平台 |
| 市场数据源 | CoinGlass API | 提供加密市场技术数据 |
| 交易执行模块 | 3Commas API | 自动化交易执行平台 |
| 通知系统 | Slack/Telegram API | 实时推送通知 |
| 区块链集成 | Solana | EAT代币发行与管理 |

### 产品结构

**前台（面向用户）**
- 轻量级交易神谕终端，每日提供一键式交易建议
- **AI Agent对话系统**，提供实时交易咨询和分析
- **双币界面**：EAT余额 + Alpha点数管理

**后台（内部系统）**
- 复杂的多智能体分析系统，作为黑盒运行
- 市场分析团队（新闻、宏观、情绪分析）
- 技术分析团队（价格行为、技术指标、形态识别）
- 执行团队（风控、交易执行、资金管理）
- **双币经济引擎**：自动化的代币发放、燃烧和平衡机制

## 3. 核心组件

### 3.1 前端神谕终端

前端采用Vue 3 + Vite构建，提供极简用户界面，包括：
- 用户认证系统
- **双币余额显示**：EAT代币 + Alpha点数
- 神谕展示页面
- **AI Agent对话界面**（核心功能）
- 操作建议可视化
- 简化的价格图表
- 历史记录查看
- **质押系统界面**

界面设计遵循"移动优先"原则，追求极简设计风格，让用户能快速获取关键信息并做出决策。

### 3.2 AI Agent对话系统（经济模型核心）

**AI Agent对话系统是双币模型成功的关键组件**：

**对话类型与消耗**
- 快速问答：15 Alpha点数
- 市场分析：25 Alpha点数  
- 策略咨询：50 Alpha点数
- 实时解盘：20 Alpha点数
- 风险评估：40 Alpha点数

**经济价值**
- 重度用户每日需要200-325点Alpha点数
- 相当于2-3.25 EAT的消耗需求
- 创造持续、高频的代币燃烧场景

### 3.3 AI多智能体分析引擎

系统核心由多个专业化AI智能体组成：

**市场分析团队**
- 新闻分析智能体 - 分析市场新闻和社交媒体情绪
- 宏观经济智能体 - 分析宏观经济因素
- 市场情绪智能体 - 评估整体市场情绪

**技术分析团队**
- 价格行为智能体 - 分析价格形态和走势
- 技术指标智能体 - 分析各类技术指标
- 形态识别智能体 - 识别经典交易形态

**执行团队**
- 风控智能体 - 评估风险和管理头寸
- 交易策略智能体 - 生成具体交易策略
- 资金管理智能体 - 提供资金配置建议

### 3.4 双币经济系统

**EAT代币（价值存储）**
- 基于策略历史绩效的NAV计算
- 治理权和质押收益
- 生成Alpha点数的权利
- 自动回购和销毁机制

**Alpha点数（功能消耗）**
- 1 EAT = 100 Alpha点数（85%燃烧）
- 24小时衰减15%，防止囤积
- 累积上限机制：免费点数最多累积800点，付费点数无限制

### 3.5 工作流自动化系统

基于n8n的自动化工作流系统，包括四个核心工作流：
1. 行情收集工作流（每4小时）
2. 实时价格监听工作流
3. 交易执行工作流
4. 结果统计工作流（每日）
5. **双币平衡工作流**（实时监控和调节）

## 4. 技术实现

### 4.1 双币系统实现

**EAT代币管理**
1. **余额跟踪**：实时跟踪用户EAT余额
2. **NAV计算**：每日策略表现更新NAV
3. **回购机制**：价格低于NAV时自动触发回购
4. **质押系统**：不同等级质押获得Alpha点数特权

**Alpha点数管理**
1. **兑换系统**：EAT转换为Alpha点数（85%燃烧）
2. **累积上限机制**：免费获得的Alpha点数最多累积800点，EAT兑换的无限制
3. **消耗跟踪**：记录所有功能使用和点数消耗
4. **免费发放**：每日30点基础额度

### 4.2 AI Agent对话实现

1. **对话路由**：根据问题类型路由到不同AI模型
2. **点数扣除**：对话前检查并扣除相应Alpha点数
3. **质量控制**：确保AI回答质量，提高用户付费意愿
4. **使用统计**：跟踪对话频率和用户满意度

### 4.3 行情收集实现

1. **数据获取**：使用n8n的HTTP Request节点调用CoinGlass API
2. **AI分析**：将格式化数据发送至MMXM Agent进行分析
3. **结果存储**：将AI判断结果存储在MongoDB中
4. **深度研究**：可选调用Perplexity Sonar进行深度市场研究

### 4.4 实时价格监听

1. **数据获取**：通过CoinGlass WebSocket或1分钟轮询获取最新价格
2. **判断逻辑**：比对价格与MMXM给出的区间和方向建议
3. **触发条件**：满足特定条件后触发交易执行

### 4.5 交易执行系统

1. **机器人控制**：通过3Commas API控制DCA机器人
2. **开关逻辑**：开启对应方向机器人，关闭另一方向机器人
3. **边界条件**：超出策略区间时关闭机器人

### 4.6 通知推送系统

1. **通知触发**：机器人开关操作时触发通知
2. **通知内容**：交易对、方向、价格区间、动作说明、触发价格等
3. **发送渠道**：Slack或Telegram

## 5. 双币经济模型

### 5.1 模型概述

EZ Trading采用创新的**双币经济模型**，解决了传统单币模型的通胀问题：

**核心优势**
- 净通胀率从64.5%降至10.7%（改善83%）
- 平衡点用户数从>100,000降至~15,000（降低85%）
- 6个月币价跌幅从-97%改善至-4%（改善96%）

### 5.2 EAT代币设计

**价值支撑**
- NAV锚定：基于策略历史表现计算净值
- Alpha点数生成权：消耗EAT生成功能点数
- 治理与质押权益：长期价值锁定和生态参与

**获取途径**
- 每日朝拜：1 EAT（保持引流吸引力）
- 连续朝拜：7天+0.5 EAT，30天+2 EAT
- 质押奖励：根据质押等级获得额外EAT
- 市场购买：DEX交易
- 邀请奖励：社交裂变激励

### 5.3 Alpha点数设计

**核心特性**
- 兑换比例：1 EAT = 100 Alpha点数
- 燃烧机制：85%燃烧率创造通缩压力
- 累积上限机制：免费点数最多累积800点，付费点数无限制
- 免费额度：30点/天保障基础体验

**消耗场景**
- AI Agent对话：15-50点（核心消耗）
- 历史神谕查询：200点
- AI解析报告：600点
- 链上监测：1000点
- 一键跟单：2500点

### 5.4 质押系统

| 质押等级 | 质押量 | Alpha点数特权 | 设计理由 |
|---------|------|-------------|---------|
| 量子级 | 50 EAT | +100容量，+10/日 | 入门级激励 |
| 原子级 | 200 EAT | +300容量，+25/日，+5%效率 | 中等激励 |
| 分子级 | 500 EAT | +600容量，+50/日，+10%效率 | 高级用户优势 |
| 裂变级 | 1,000 EAT | +1200容量，+80/日，+15%效率 | 鲸鱼用户特权 |
| 聚变级 | 5,000 EAT | +6000容量，+150/日，+25%效率 | 超级用户极大优势 |

### 5.5 经济平衡机制

**自动调节**
- 动态调整Alpha点数兑换比例
- 根据使用率调整功能消耗成本
- 质押参与率影响奖励效率
- 实时监控经济健康指标

**回购与燃烧**
- Alpha点数购买产生85%EAT燃烧
- 价格低于NAV时自动回购
- 多重资金来源支持回购
- 透明的燃烧和回购记录

### 5.6 链上实现

基于Solana开发，遵循SPL Token标准，后期拓展至SUI和TON链。

**智能合约功能**
- EAT代币发行和管理
- Alpha点数生成和燃烧
- 质押和奖励分发
- NAV计算和更新
- 自动回购执行

## 6. 开发计划

### 6.1 开发路线图

**第一阶段：双币系统基础（4周）**
1. EAT代币合约开发
2. Alpha点数系统实现
3. 基础兑换和燃烧机制
4. 前端双币界面开发

**第二阶段：AI Agent核心功能（6周）**
1. AI Agent对话系统开发
2. Alpha点数消耗集成
3. 对话质量优化
4. 用户体验完善

**第三阶段：质押与特权系统（4周）**
1. 质押等级系统实现
2. Alpha点数特权机制
3. 衰减和平衡算法
4. 经济监控仪表盘

**第四阶段：系统优化与上线（4周）**
1. 经济模型参数调优
2. 安全审计和测试
3. 用户教育和文档
4. 正式环境部署

### 6.2 里程碑

| 里程碑 | 完成时间 | 关键成果 |
|-------|---------|---------|
| 双币系统MVP | 周4 | 基础EAT+Alpha点数功能 |
| AI Agent集成 | 周10 | 对话消耗系统完成 |
| 质押系统上线 | 周14 | 完整双币生态 |
| 正式版发布 | 周18 | 产品正式上线 |

## 7. 团队协作指南

### 7.1 团队角色与职责

| 角色 | 主要职责 | 工作产出 |
|------|---------|---------|
| 产品经理 | 双币模型设计、功能规划 | 产品规格说明书、经济模型文档 |
| UI/UX设计师 | 双币界面设计、AI对话交互 | 设计稿、原型、设计规范 |
| 前端开发 | Vue组件开发、双币界面实现 | 前端代码、组件库 |
| 后端开发 | 双币系统API、经济引擎开发 | API文档、后端代码 |
| AI工程师 | AI Agent系统、对话优化 | AI算法、模型、分析引擎 |
| 区块链开发者 | Solana合约、双币机制实现 | 智能合约、链上组件 |
| 经济模型分析师 | 参数调优、风险评估 | 经济分析报告、调优建议 |
| 测试工程师 | 功能测试、经济模型测试 | 测试报告、Bug跟踪 |
| 运维工程师 | 部署配置、监控系统 | 部署文档、监控方案 |

### 7.2 开发流程

1. **需求阶段**：产品经理编写需求文档，设计师制作原型，团队评审
2. **开发阶段**：使用Git Feature Branch工作流，遵循代码规范
3. **测试阶段**：单元测试、功能测试、经济模型测试
4. **发布阶段**：合并代码，部署生产环境，监控反馈

### 7.3 协作工具

- **代码仓库**：GitHub
- **任务管理**：GitHub Projects/Jira
- **沟通工具**：企业微信/Slack
- **文档管理**：Markdown文档(docs/目录)
- **经济监控**：自研经济健康仪表盘

## 8. 当前进度

### 前端开发
- ✅ 完成基础UI框架搭建
- ✅ 实现ParticleBg星空背景效果
- ✅ 完成HomeHero组件和流程设计
- 🔄 开发双币界面组件
- 🔄 设计AI Agent对话界面
- 🔄 实现质押系统界面
- 📝 待开发历史神谕查询

### 后端开发
- ✅ 完成数据模型设计(User, Trade, Oracle, EatTransaction)
- ✅ 实现用户认证系统和JWT中间件
- ✅ 实现用户模块控制器(用户管理、钱包连接)
- ✅ 实现交易模块控制器(订单管理、跟单系统)
- ✅ 实现神谕模块控制器(预测功能、统计分析)
- ✅ 实现EAT代币模块控制器(余额管理、奖励系统)
- 🔄 开发Alpha点数系统API
- 🔄 实现AI Agent对话API
- 🔄 开发质押系统后端
- 📝 待实现经济平衡算法

### 双币经济系统
- ✅ 完成双币模型经济分析
- ✅ 设计Alpha点数消耗机制
- ✅ 规划质押等级系统
- 🔄 开发EAT代币合约
- 🔄 实现Alpha点数生成和燃烧
- 📝 待开发自动平衡机制

### AI Agent系统
- ✅ 完成AI Agent架构设计
- ✅ 设计对话类型和消耗标准
- 🔄 开发对话路由系统
- 🔄 集成多种AI模型API
- 📝 待优化对话质量和体验

### 多智能体系统
- ✅ 完成多智能体系统架构设计
- ✅ 集成n8n作为工作流引擎
- 🔄 开发市场数据收集模块
- 🔄 设计智能体协作框架
- 📝 待开发策略生成引擎

## 9. 详细文档索引

以下是所有项目文档的详细索引，团队成员可根据需要深入了解特定领域：

| 文档名称 | 路径 | 主要内容 |
|---------|------|---------|
| 项目介绍 | [EZ_TRADING_INTRO.md](./EZ_TRADING_INTRO.md) | 项目背景、市场痛点和解决方案 |
| 系统需求规格 | [REQUIREMENTS.md](./REQUIREMENTS.md) | 系统详细需求和功能规格 |
| **双币模型分析** | [../02-economics/ez-trading-dual-token-analysis.md](../02-economics/ez-trading-dual-token-analysis.md) | **完整的双币经济模型分析** |
| **EAT代币白皮书V2.0** | [../02-economics/EAT_WHITEPAPER.md](../02-economics/EAT_WHITEPAPER.md) | **双币经济模型和技术细节** |
| 前台系统规格 | [../04-design/FRONTEND_SPEC.md](../04-design/FRONTEND_SPEC.md) | 前端界面和用户体验设计规范 |
| UI设计规范 | [../04-design/EZ_TRADING_UI_SPEC.md](../04-design/EZ_TRADING_UI_SPEC.md) | 完整的UI设计标准和组件库 |
| 技术实现方案 | [../03-development/IMPLEMENTATION.md](../03-development/IMPLEMENTATION.md) | 系统各组件实现方式详解 |
| 技术开发指南 | [../03-development/DEVELOPMENT_TECHNICAL_GUIDE.md](../03-development/DEVELOPMENT_TECHNICAL_GUIDE.md) | 各组件的详细开发方法 |
| 团队协作手册 | [../03-development/DEVELOPMENT_GUIDE.md](../03-development/DEVELOPMENT_GUIDE.md) | 团队协作流程与规范 |
| 项目计划 | [../05-management/PROJECT_PLAN.md](../05-management/PROJECT_PLAN.md) | 详细的项目时间线和资源规划 |
| 开发进度 | [../05-management/PROGRESS.md](../05-management/PROGRESS.md) | 当前开发进度和里程碑追踪 |
| API文档 | [../03-development/API_DOCUMENTATION.md](../03-development/API_DOCUMENTATION.md) | 后端API接口详细说明 |

---

**重要提醒**：双币模型是项目成功的关键，所有开发工作都应围绕EAT + Alpha点数系统展开。AI Agent对话功能是经济模型的核心驱动力，必须确保其质量和用户体验。

*文档最后更新时间: 2024年12月19日* 